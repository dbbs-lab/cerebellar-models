{
  "name": "DBBS Mouse cerebellum configuration v4.0",
  "storage": {
    "engine": "hdf5",
    "root": "50_50_mouse.hdf5"
  },
  "network": {
    "x": 50.0,
    "y": 600.0,
    "z": 50.0,
    "chunk_size": [50, 50, 100]
  },
  "partitions": {
    "granular_layer": {
    "thickness": 300.0,
    "stack_index": 0
    },
    "purkinje_layer": {
    "thickness": 30.0,
    "stack_index": 1
    },
    "b_molecular_layer": {
    "thickness": 107.0,
    "stack_index": 2
    },
    "t_molecular_layer": {
    "thickness": 212.0,
    "stack_index": 3
    }
  },
  "regions": {
    "cerebellar_cortex": {
      "type": "stack",
      "children": ["granular_layer", "purkinje_layer", "b_molecular_layer", "t_molecular_layer"]
    }
  },
  "morphologies": [
    {
      "file": "morphologies/GranuleCell.swc", 
      "tags": 
      {
        "18": ["axon", "ascending_axon"],
        "19": ["axon", "parallel_fiber"]
      }
    },
    {
      "file": "morphologies/GolgiCell.swc",
      "tags": 
      {
        "16": ["dendrites", "basal_dendrites"],
        "17": ["dendrites", "apical_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      }
    },
    {
      "file": "morphologies/PurkinjeCell.swc",
      "tags":
      {
        "21": ["dendrites", "pf_targets", "sc_targets"],
        "22": ["dendrites", "aa_targets", "sc_targets"]
      } 
    },
    {
      "file": "morphologies/StellateCell.swc",
      "tags":
      {
        "16": ["dendrites", "proximal_dendrites"],
        "17": ["dendrites", "distal_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      } 
    },
    {
      "file": "morphologies/BasketCell.swc",
      "tags":
      {
        "16": ["axon", "axon_initial_segment"]
      } 
    }
    ],
    "cell_types": {
      "mossy_fibers": {
        "spatial": {
          "radius": 1.0,
          "relative_to": "glomerulus",
          "count_ratio": 0.05
        }
      },
      "glomerulus": {
        "spatial": {
          "radius": 1.5,
          "density": 3e-4
        },
        "plotting": {
          "display_name": "Glomerulus",
          "color": "#6F6F70"
        }
      },
      "granule_cell": {
        "spatial": {
          "radius": 2.9,
          "density": 3.9e-3,
          "morphologies": [
            {
              "names": ["GranuleCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Granule cell",
          "color": "#e81005",
          "opacity": 0.3
        }
      },
      "golgi_cell": {
        "spatial": {
          "radius": 8.0,
          "density": 9e-6,
          "morphologies": [
            {
              "names": ["GolgiCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Golgi cell",
          "color": "#1009e3"
        }
      },
      "purkinje_cell": {
        "spatial": {
          "radius": 7.5,
          "planar_density": 0.0017,
          "morphologies": [
            {
              "names": ["PurkinjeCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Purkinje cell",
          "color": "#068f0d"
        }
      },
      "stellate_cell": {
        "spatial": {
          "radius": 5.0,
          "density": 0.2e-4,
          "morphologies": [
            {
              "names": ["StellateCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Stellate cell",
          "color": "#f5bb1d"
        }
      },
      "basket_cell": {
        "spatial": {
          "radius": 5.0,
          "density": 0.2e-4,
          "morphologies": [
            {
              "names": ["BasketCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Basket cell",
          "color": "#f5830a"
        }
      }
    },
    "placement": {
      "granular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["granular_layer"],
        "cell_types": ["mossy_fibers","glomerulus","granule_cell","golgi_cell"]
      },
      "purkinje_layer_placement": {
        "strategy": "bsb.placement.ParallelArrayPlacement",
        "partitions": ["purkinje_layer"],
        "cell_types": ["purkinje_cell"],
        "spacing_x": 130.0,
        "angle": 70.0
      },
      "b_molecular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["b_molecular_layer"],
        "cell_types": ["basket_cell"]
      },
      "t_molecular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["t_molecular_layer"],
        "cell_types": ["stellate_cell"]
      }
    },
    "connectivity": { 
     
      "ascending_axon_to_purkinje": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["ascending_axon"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["aa_targets"]
        },
        "affinity": 0.1
      },
      "parallel_fiber_to_purkinje": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["pf_targets"]
        },
        "affinity": 0.1
      }
    },  

  "after_placement": {  },

  

  "simulations": {

    "test_nest": {
      "simulator": "nest",
      "duration": 1000,
      "resolution": 0.05,
      "modules": ["cerebmodule"],
      "default_neuron_model": "eglif_cond_alpha_multisyn",
      "default_synapse_model": "static_synapse",
      "cell_models": 
      {

        "mossy_fibers": {
          "neuron_model": "parrot_neuron"
        },

        "glomerulus": {
          "neuron_model": "parrot_neuron"
        },

        "granule_cell": {
          "neuron_model" : "eglif_cond_alpha_multisyn",
          "constants": {
            "t_ref": 1.5,
            "V_min": -150.0,
            "C_m": 7.0,
            "V_th": -41.0,
            "V_reset": -70.0,
            "E_L": -62.0,
            "I_e": -0.888,
            "Vinit": -62.0,
            "lambda_0":1.0,
            "tau_V":0.3,
            "tau_m": 24.15,
            "kadap": 0.022,
            "k1": 0.311,
            "k2": 0.041,
            "A1": 0.01,
            "A2":-0.94,
            "tau_syn1": 5.8,
            "tau_syn2": 13.61,
            "E_rev1": 0.0,
            "E_rev2": -80.0,
            "E_rev3": 0.0
            }
         },

        "golgi_cell": {
          "neuron_model" : "eglif_cond_alpha_multisyn",
          "constants": {
            "t_ref": 2.0,
            "C_m": 145.0,
            "V_th": -55.0,
            "V_reset": -75.0,
            "E_L": -62.0,
            "V_min": -150.0,
            "Vinit": -62.0,
            "lambda_0": 1.0,
            "tau_V": 0.4,
            "tau_m": 44.0,
            "I_e": 19.214,
            "kadap": 0.217,
            "k1": 0.031,
            "k2": 0.023,
            "A1": 259.988,
            "A2": 178.01,
            "tau_syn1":0.23,
            "tau_syn2": 10.0,
            "tau_syn3": 0.5,
            "E_rev1": 0.0,
            "E_rev2": -80.0,
            "E_rev3": 0.0
        }         
      },
      "purkinje_cell": {
        "neuron_model" : "eglif_cond_alpha_multisyn",
        "constants": {
          "t_ref": 2.0,
          "V_min": -350.0,
          "C_m": 334.0,
          "V_th": -43.0,
          "V_reset": -69.0,
          "E_L": -59.0,
          "Vinit": -59.0,
          "lambda_0":4.0,
          "tau_V":3.5,
          "tau_m": 47.0,
          "I_e": 742.543,
          "kadap": 1.492,
          "k1": 0.1950,
          "k2": 0.041,
          "A1": 157.622,
          "A2": 172.622,
          "tau_syn1": 1.1,
          "tau_syn2": 2.8,
          "tau_syn3": 0.4,
          "E_rev1": 0.0,
          "E_rev2": -80.0,
          "E_rev3": 0.0
        }
      },
      "stellate_cell": {
        "neuron_model" : "eglif_cond_alpha_multisyn",
          "constants": {
            "t_ref": 1.59,
            "C_m": 14.6,
            "V_th": -53.0,
            "V_reset": -78.0,
            "E_L": -68.0,
            "Vinit": -68.0,
            "lambda_0":1.8,
            "tau_V":1.1,
            "tau_m": 9.125,
            "I_e": 3.711,
            "kadap": 2.025,
            "k1": 1.887,
            "k2": 1.096,
            "A1": 5.953,
            "A2":5.863,
            "tau_syn1": 0.64,
            "tau_syn2": 2.0,
            "tau_syn3": 1.2,
            "E_rev1": 0.0,
            "E_rev2": -80.0,
            "E_rev3": 0.0
          }
        },
        "basket_cell": {
          "neuron_model" : "eglif_cond_alpha_multisyn",
          "constants": {
            "t_ref": 1.59,
            "C_m": 14.6,
            "V_th": -53.0,
            "V_reset": -78.0,
            "E_L": -68.0,
            "Vinit": -68.0,
            "lambda_0":1.8,
            "tau_V":1.1,
            "tau_m": 9.125,
            "I_e": 3.711,
            "kadap": 2.025,
            "k1": 1.887,
            "k2": 1.096,
            "A1": 5.953,
            "A2":5.863,
            "tau_syn1": 0.64,
            "tau_syn2": 2.0,
            "tau_syn3": 1.2,
            "E_rev1": 0.0,
            "E_rev2": -80.0,
            "E_rev3": 0.0
          }
        }
    },
    "connection_models": {


            
      "ascending_axon_to_purkinje": {
        "synapse": {
          "weight": 0.7,
          "delay": 2.0,
          "receptor_type" : 1
        }
      },
      "parallel_fiber_to_purkinje": {
        "synapse_model" : "stdp_synapse_sinexp",
        "synapse": {
          "weight": 0.007,
          "delay": 5.0,
          "receptor_type" : 1,
          "A_minus": 0.5,
          "A_plus": 0.05,
          "Wmin": 0.0,
          "Wmax": 100.0
        }
      }
      
    },
      "devices": {
        "pg": {
          "device": "poisson_generator",
          "rate": 0,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["mossy_fibers"]
          },
          "weight" : 1.0,
          "delay" : 0.1
        },
        
        "mossy_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["mossy_fibers"]
          }
        },
        "gloms_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["glomerulus"]
          }
        },
        "granule_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["granule_cell"]
          }
        },
        "golgi_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["golgi_cell"]
          }
        },
        "purkinje_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["purkinje_cell"]
          }
        },
        "stellate_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["stellate_cell"]
          }
        },
        "basket_rec": {
          "device": "spike_recorder",
          "delay": 0.1,
          "targetting": {
            "strategy": "cell_model",
            "cell_models": ["basket_cell"]
          }
        }
      }
    }
  }
}

