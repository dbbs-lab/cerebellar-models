{
  "name": "DBBS Mouse cerebellum configuration v4.0",
  "storage": {
    "engine": "hdf5",
    "root": "MouseCerebellum.hdf5"
  },
  "network": {
    "x": 100.0,
    "y": 300.0,
    "z": 100.0,
    "chunk_size": [50, 50, 50]
  },
  "partitions": {
    "granular_layer": {
    "thickness": 300.0,
    "stack_index": 0
  },
  "purkinje_layer": {
    "thickness": 30.0,
    "stack_index": 1
  },
  "b_molecular_layer": {
    "thickness": 100.0,
    "stack_index": 2
  },
  "t_molecular_layer": {
    "thickness": 200.0,
    "stack_index": 3
  }
},
"regions": {
  "cerebellar_cortex": {
    "type": "stack",
    "children": ["granular_layer", "purkinje_layer", "b_molecular_layer", "t_molecular_layer"]
  }
},
  "morphologies": [
    {
      "file": "morphologies/GranuleCell.swc", 
      "tags": 
      {
        "16": ["axon", "axon_hillock"],  
        "17": ["axon", "axon_initial_segment"],
        "18": ["axon", "ascending_axon"],
        "19": ["axon", "parallel_fiber"]
      }
    },
    {
      "file": "morphologies/GolgiCell.swc",
      "tags": 
      {
        "16": ["dendrites", "basal_dendrites"],
        "17": ["dendrites", "apical_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      }
    },
    {
      "file": "morphologies/PurkinjeCell.swc",
      "tags":
      {
        "16": ["axon", "AIS"],
        "17": ["axon", "AIS_K"],
        "18": ["axon", "axonmyelin"],
        "19": ["axon", "nodes"],
        "20": ["dendrites", "basal_dendrites"],
        "21": ["dendrites", "pf_targets", "sc_targets"],
        "22": ["dendrites", "aa_targets", "sc_targets"]
      }
      
    },
    {
      "file": "morphologies/BasketCell.swc",
      "tags": {
        "16": ["axon", "axon_initial_segment"]
      }
    },
    {
      "file": "morphologies/StellateCell.swc",
      "tags": {
        "16": ["dendrites", "proximal_dendrites"],
        "17": ["dendrites", "distal_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      }
    }
    ],
    "cell_types": {
      "granule_cell": {
        "spatial": {
          "radius": 2.5,
          "density": 1e-4,
          "geometry": {
            "pf_height": 126,
            "pf_height_sd": 15
          },
          "morphologies": [
            {
              "names": ["GranuleCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Granule cell",
          "color": "#e81005",
          "opacity": 0.3
        }
      },
      "mossy_fibers": {
        "spatial": {
          "radius": 1.0,
          "relative_to": "glomerulus",
          "count_ratio": 0.05
        }
      },
      "glomerulus": {
        "relay": true,
        "spatial": {
          "radius": 1.5,
          "density": 1e-4
        },
        "plotting": {
          "display_name": "Glomerulus",
          "color": "#6F6F70"
        }
      },
      "purkinje_cell": {
        "spatial": {
          "radius": 7.5,
          "planar_density": 0.0017,
          "morphologies": [
            {
              "names": ["PurkinjeCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Purkinje cell",
          "color": "#068f0d"
        }
      },
      "golgi_cell": {
        "spatial": {
          "radius": 8.0,
          "density": 9e-6,
          "geometry": {
            "axon_radius": 160
          },
          "morphologies": [
            {
              "names": ["GolgiCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Golgi cell",
          "color": "#1009e3"
        }
      },
      "basket_cell": {
        "spatial": {
          "radius": 6.0,
          "density": 0.5e-5,
          "morphologies": [
            {
              "names": ["BasketCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Basket cell",
          "color": "#f5830a"
        }
      },
      "stellate_cell": {
        "spatial": {
          "radius": 6.0,
          "density": 0.5e-5,
          "morphologies": [
            {
              "names": ["StellateCell"]
            }
          ]
        },
        "plotting": {
          "display_name": "Stellate cell",
          "color": "#f5830a"
        }
      }
  },
    "placement": {
      "granule_placement_1": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["granular_layer"],
        "cell_types": ["granule_cell"]
      },
      "granular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["granular_layer"],
        "cell_types": ["golgi_cell","mossy_fibers","glomerulus"]
      },

      "purkinje_layer_placement": {
        "strategy": "bsb.placement.ParallelArrayPlacement",
        "partitions": ["purkinje_layer"],
        "cell_types": ["purkinje_cell"],
        "spacing_x": 130.0,
        "angle": 70.0
      }
    },
    "connectivity": { 
      "mossy_fibers_to_glomerulus": {
        "strategy": "cerebellum.connectome.mossy_glomerulus.ConnectomeMossyGlomerulus",
        "presynaptic": {
          "cell_types": ["mossy_fibers"]
        },
        "postsynaptic": {
          "cell_types": ["glomerulus"]
        },
        "x_length" : 60,
        "z_length" : 20
      },
      "glomerulus_to_granule": {
        "strategy": "cerebellum.connectome.glomerulus_granule.ConnectomeGlomerulusGranule",
        "presynaptic": {
  
          "cell_types": ["glomerulus"]
        },
        "postsynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels" : ["dendrites"]
        },
        "prepresynaptic" : {
          "cell_types" : ["mossy_fibers"]
        },
        "x_length" : 100,
        "z_length" : 100,
        "max_radius" : 40,
        "convergence" : 4
  
      },
      "glomerulus_to_golgi": {
        "strategy": "cerebellum.connectome.glomerulus_golgi.ConnectomeGlomerulusGolgi",
        "presynaptic": {
  
          "cell_types": ["glomerulus"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels" : ["dendrites"]
        },
        "radius" : 50
  
      },
      "golgi_to_glomerulus": {
        "strategy": "cerebellum.connectome.golgi_glomerulus_granule.ConnectomeGolgiGlomerulusGranule",
        "presynaptic": {
  
          "cell_types": ["golgi_cell"],
          "morphology_labels" : ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["granule_cell"]
        },
        "intermediate": {
          "cell_types": ["glomerulus"]
        },
        "radius" : 50,
        "convergence" : 40
  
      },
      "golgi_to_golgi": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "affinity": 0.1
      },
      "gap_goc": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "affinity": 0.2,
        "contacts": {
          "distribution": "norm",
          "loc": 3,
          "scale": 1
        }
      },
      "ascending_axon_to_golgi": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["ascending_axon"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        }
      },
      "parallel_fiber_to_golgi": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["apical_dendrites"]
        },
        "affinity": 0.1
      },
      "ascending_axon_to_purkinje": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["ascending_axon"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["aa_targets"]
        },
        "affinity": 0.1
      },
  
      "parallel_fiber_to_purkinje": {
        "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["pf_targets"]
        },
        "affinity": 0.1
      }
    },
  "after_placement": {  },
  "simulations": {

    "neurontest": {
      "simulator": "neuron",
      "duration": 200,
      "resolution": 0.25,
      "temperature": 32,
      "cell_models": {
        
        "granule_cell": {
          "model": "models_ludovica.GranuleWT.definitionGrCWT",
          "parameters": [

          ]
        },
        "golgi_cell": {
          "model": "models_ludovica.Golgi.definitionGolgi",
          "parameters": [

          ]
        },
        "purkinje_cell": {
          "model": "models_ludovica.Purkinje.definitionPC",
          "parameters": [

          ]
        }      
      },

      "connection_models": {
        "ascending_axon_to_golgi": 
        {
          "synapses":  [{"synapse" : "NMDA"},{"synapse" : "AMPA_AA"}]
        },
        "parallel_fiber_to_golgi":
        {
          "synapses":  [{"synapse" : "NMDA"},{"synapse" : "AMPA_MF"}]
        },
        "golgi_to_glomerulus": 
        {
          "synapses": [{"synapse" : "GABA"}]
        },
        "golgi_to_golgi": 
        {
          "synapses": [{"synapse" : "GABA"}]
        },
        "ascending_axon_to_purkinje": 
        {
          "synapses":  [{"synapse" : "AMPA"}]
        },
        "parallel_fiber_to_purkinje":
        {
          "synapses":  [{"synapse" : "AMPA"}]
        }
      },
      "devices": {
        "spike_generator_1": {
          "device": "spike_generator",
          "start": 50,
          "number": 20,
          "interval": 40,
          "noise" : 0.1,
          "targetting": {
            "strategy": "sphere",
            "radius" : 50,
            "origin" : [25,25,25],
            "cell_models": ["granule_cell","golgi_cell"]
          },
          "locations": {
            "strategy": "label",
            "labels": ["dendrites"]
          },
          "synapses" : ["AMPA","NMDA"]
        },
        "vrecorder_granule": 
        {
          "device": "vrecorder",
          "targetting": {
            "strategy": "sphere",
            "radius" : 600,
            "origin" : [50,150,50],
            "cell_models" : ["granule_cell"]
          }
        },
        "vrecorder_golgi": 
        {
          "device": "vrecorder",
          "targetting": {
            "strategy": "sphere",
            "radius" : 600,
            "origin" : [50,150,50],
            "cell_models" : ["golgi_cell"]
          }
        },
        "vrecorder_purkinje": 
        {
            "device": "vrecorder",
            "targetting": {
              "strategy": "sphere",
              "radius" : 600,
              "origin" : [50,300,50],
              "cell_models" : ["purkinje_cell"]
            }
        }

      }
    }
  }
}

