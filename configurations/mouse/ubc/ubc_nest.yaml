name: DBBS Mouse cerebellum w/ UBC NEST basal activity and mf stimulus
storage:
  root: mouse_cereb_ubc_nest.hdf5
cell_types:
  $import:
    ref: ./ubc.yaml#/cell_types
    values:
      - unipolar_brush_cell
      - ubc_glomerulus
placement:
  $import:
    ref: ./ubc.yaml#/placement
    values:
      - granular_layer_placement
connectivity:
  $import:
    ref: ./ubc.yaml#/connectivity
    values:
      - ubc_to_ubc_glomerulus
      - glomerulus_to_ubc
      - glomerulus_to_granule
      - glomerulus_to_golgi
      - golgi_to_glomerulus
simulations:
  basal_activity:
    simulator: nest
    resolution: 0.1
    duration: 5000
    modules:
      - cerebmodule
    seed: 1234
    cell_models:
      unipolar_brush_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 1.67
          C_m: 16.5
          V_th: -55.8
          V_reset: -76.7
          E_L: -66.7
          V_m: -62.0
          lambda_0: 1.0
          tau_V: 0.5
          tau_m: 13.2
          I_e: 1.0
          k_adap: 1.17
          k_1: 0.14
          k_2: 0.76
          A1: 0.0001
          A2: 0.0001
          tau_syn1: 0.2
          tau_syn2: 2
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
      ubc_glomerulus:
        model: parrot_neuron
    connection_models:
      ubc_to_ubc_glomerulus:
        synapse:
          weight: 1
          delay: 50
      glomerulus_to_ubc_ubc_glomerulus_to_unipolar_brush_cell:
        synapse:
          weight: 1
          delay: 50
          receptor_type: 1
      glomerulus_to_ubc_glomerulus_to_unipolar_brush_cell:
        synapse:
          weight: 1
          delay: 2
          receptor_type: 1
      glomerulus_to_granule_ubc_glomerulus_to_granule_cell:
        synapse:
          weight: 0.048
          delay: 1
          receptor_type: 1
      glomerulus_to_granule_glomerulus_to_granule_cell:
        synapse:
          model: static_synapse
          weight: 0.23
          delay: 1
          receptor_type: 1
      glomerulus_to_golgi_ubc_glomerulus_to_golgi_cell:
        synapse:
          model: static_synapse
          weight: 0.24
          delay: 1
          receptor_type: 1
      glomerulus_to_golgi_glomerulus_to_golgi_cell:
        synapse:
          model: static_synapse
          weight: 0.24
          delay: 1
          receptor_type: 1
      golgi_to_glomerulus_golgi_cell_to_granule_cell:
        synapse:
          model: static_synapse
          weight: 0.24
          delay: 2
          receptor_type: 2
      golgi_to_glomerulus_golgi_cell_to_unipolar_brush_cell:
        synapse:
          model: static_synapse
          weight: 0.00211
          delay: 4
          receptor_type: 2
      $import:
        ref: ../nest/stimulus_mossy_vitro.yaml#/simulations/basal_activity/connection_models
        values:
          - mossy_fibers_to_glomerulus
          - golgi_to_golgi
          - ascending_axon_to_golgi
          - parallel_fiber_to_golgi
          - parallel_fiber_to_purkinje
          - ascending_axon_to_purkinje
          - parallel_fiber_to_stellate
          - stellate_to_stellate
          - stellate_to_purkinje
          - parallel_fiber_to_basket
          - basket_to_basket
          - basket_to_purkinje
    devices:
      unipolar_brush_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cell_model
          cell_models:
            - unipolar_brush_cell
    $import:
      ref: ../nest/stimulus_mossy_vitro.yaml#/simulations/basal_activity
      values:
        - cell_models
        - devices
  mf_stimulus:
    simulator: nest
    resolution: 0.1
    duration: 5000
    modules:
      - cerebmodule
    seed: 1234
    devices:
      $import:
        ref: ../nest/stimulus_mossy_vitro.yaml#/simulations/mf_stimulus/devices
        values:
          - stimulus
    $import:
      ref: "#/simulations/basal_activity"
      values:
        - cell_models
        - connection_models
        - devices
$import:
  ref: ../nest/stimulus_mossy_vitro.yaml#/
  values:
    - packages
    - components
    - storage
    - network
    - regions
    - partitions
    - morphologies
    - cell_types
    - placement
    - connectivity
    - after_connectivity
