name: DBBS Mouse cerebellum w/ DCN and IO
storage:
  root: mouse_cereb_dcn_io_alice.hdf5 # mouse_cereb_dcn_io_casali.hdf5 

network:
  z: 495

regions:
  dcn_layer:
    type: stack
    children:
      - dcn_layer
partitions:
  dcn_layer:
    stack_index: 0
    thickness: 200
  granular_layer:
    stack_index: 1
  purkinje_layer:
    stack_index: 2
  b_molecular_layer:
    stack_index: 3
  t_molecular_layer:
    stack_index: 4
cell_types:
  dcn_p:
    spatial:
      radius: 9.5
      density: 9.92e-6 # 1.33e-6
    plotting:
      display_name: Deep Cerebellar Nuclei type p
  dcn_i:
    spatial:
      radius:  7.0
      density: 5.58e-6 # 0.7182e-6
    plotting:
      display_name: Deep Cerebellar Nuclei type i

placement:
  dcn_p_layer_placement:
    strategy: bsb.placement.RandomPlacement
    partitions:
      - dcn_layer
    cell_types:
      - dcn_p
  dcn_i_layer_placement:
    strategy: bsb.placement.RandomPlacement
    partitions:
      - dcn_layer
    cell_types:
      - dcn_i
connectivity:
  purkinje_to_dcn_p:
    strategy: cerebellum.connectome.purkinje_dcn.FixedOutdegree
    outdegree: 45 # 5
    presynaptic:
      cell_types:
        - purkinje_cell
      morphology_labels:
        - axon
    postsynaptic:
      cell_types:
        - dcn_p

  purkinje_to_dcn_i:
    strategy: cerebellum.connectome.purkinje_dcn.FixedOutdegree
    outdegree: 12 # 5
    presynaptic:
      cell_types:
        - purkinje_cell
      morphology_labels:
        - axon
    postsynaptic:
      cell_types:
        - dcn_i
  mossy_fibers_to_dcn_p:
    strategy: bsb.connectivity.FixedIndegree
    indegree: 48 # 147 (not possible because in canonical n_mf=117)
    presynaptic:
      cell_types:
        - mossy_fibers
    postsynaptic:
      cell_types:
        - dcn_p
$import:
  ref: ../mouse_cerebellar_cortex.yaml#/
  values:
    - packages
    - storage
    - network
    - regions
    - partitions
    - morphologies
    - cell_types
    - placement
    - connectivity
