name: DBBS Mouse cerebellum w/ DCN and IO NEST simulation
$import:
  ref: ./dcn.yaml#/
  values:
    - name
    - packages
    - storage
    - network
    - regions
    - partitions
    - morphologies
    - cell_types
    - placement
    - connectivity
packages:
    - bsb-nest~=4.1
simulations:
  basal_activity:
    cell_models:
      dcn_p:
          model: eglif_cond_alpha_multisyn
          constants:
            t_ref: 1.5
            C_m: 142
            V_th: -36
            V_reset: -55
            E_L: -45
            I_e: 75.385
            V_m: -45
            lambda_0: 3.5
            tau_V: 3
            tau_m: 33
            k_adap: 0.408
            k_1: 0.697
            k_2: 0.047
            A1: 13.857
            A2: 3.477
            tau_syn1: 1.0
            tau_syn2: 0.7
            E_rev1: 0
            E_rev2: -80
      dcn_i:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 3
          C_m: 56
          V_th: -39
          V_reset: -55
          E_L: -40
          I_e: 2.384
          V_m: -40
          lambda_0: 0.9
          tau_V: 1
          tau_m: 56
          k_adap: 0.079
          k_1: 0.041
          k_2: 0.044
          A1: 176.358
          A2: 176.358
          tau_syn1: 3.64
          tau_syn2: 1.14
          E_rev1: 0
          E_rev2: -80

    connection_models:
      mossy_fibers_to_dcn_p:
        synapse:
          model: static_synapse
          weight: 0.05
          delay: 4.
          receptor_type: 1
      purkinje_to_dcn_p:
        synapse:
          model: static_synapse
          weight: 0.4
          delay: 4.
          receptor_type: 2
      purkinje_to_dcn_i:
        synapse:
          model: static_synapse
          weight: 0.12
          delay: 4.
          receptor_type: 2

    devices:
      dcn_p_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cell_model
          cell_models:
            - dcn_p
      dcn_i_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cell_model
          cell_models:
            - dcn_i
  $import:
    ref: ../nest/stimulus_mossy.yaml#/simulations/
    values:
      - basal_activity
      - mf_stimulus
