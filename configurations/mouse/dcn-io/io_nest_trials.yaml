name: DBBS Mouse cerebellum w/ DCN and IO NEST basal activity and mf stimulus
storage:
  root: mouse_cereb_io_trials.hdf5
packages:
  - bsb-nest~=4.3
components:
  - cerebellum/nest_models/build_models.py
simulations:
  basal_activity:
    modules:
      - cerebmodule
      - custom_stdp_module
    cell_models:
      io:
        model: eglif_io_nestml
        constants:
          t_ref: 1
          C_m: 189
          V_th: -35
          V_reset: -45
          E_L: -45
          I_e: -18.101
          V_m: -45
          lambda_0: 1.2
          tau_V: 0.8
          tau_m: 11
          kadap: 1.928
          k1: 0.191
          k2: 0.091
          A1: 1810.923
          A2: 1358.197
          tau_syn1: 1
          tau_syn2: 60
          E_rev1: 0
          E_rev2: -80
    connection_models:
      io_to_purkinje:
        synapse:
          model: static_synapse
          weight: 800 #1.6 #300 # 50
          delay: 4
          receptor_type: 5
      io_to_mli_io_to_basket_cell:
        synapse:
          model: static_synapse
          weight: 2.5
          delay: 40
          receptor_type: 3
      io_to_mli_io_to_stellate_cell:
        synapse:
          model: static_synapse
          weight: 5 # 2.5
          delay: 40
          receptor_type: 3
      io_to_dcn_p:
        synapse:
          model: static_synapse
          weight: 0.4 #0.5 # 2.5
          delay: 4
          receptor_type: 1
      io_to_dcn_i:
        synapse:
          model: static_synapse
          weight: 0.25 #0.5 # 0.1
          delay: 5
          receptor_type: 1
      dcn_i_to_io:
        synapse:
          model: static_synapse
          weight: 0.45 # 0.75
          delay: 25
          receptor_type: 2
    devices:
      io_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cell_model
          cell_models:
            - io
    $import:
      ref: ./dcn_nest.yaml#/simulations/basal_activity/
      values:
        - simulator
        - resolution
        - duration
        - seed
        - cell_models
        - connection_models
        - devices
  mf_cf_stimulus:
    devices:
      mf_stimulus_1:
        device: poisson_generator
        rate: 40
        start: 500
        stop: 760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_2:
        device: poisson_generator
        rate: 40
        start: 1500
        stop: 1760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_3:
        device: poisson_generator
        rate: 40
        start: 2500
        stop: 2760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_4:
        device: poisson_generator
        rate: 40
        start: 3500
        stop: 3760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_5:
        device: poisson_generator
        rate: 40
        start: 4500
        stop: 4760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_6:
        device: poisson_generator
        rate: 40
        start: 5500
        stop: 5760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_7:
        device: poisson_generator
        rate: 40
        start: 6500
        stop: 6760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_8:
        device: poisson_generator
        rate: 40
        start: 7500
        stop: 7760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_9:
        device: poisson_generator
        rate: 40
        start: 8500
        stop: 8760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_10:
        device: poisson_generator
        rate: 40
        start: 9500
        stop: 9760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_11:
        device: poisson_generator
        rate: 40
        start: 10500
        stop: 10760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_12:
        device: poisson_generator
        rate: 40
        start: 11500
        stop: 11760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_13:
        device: poisson_generator
        rate: 40
        start: 12500
        stop: 12760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_14:
        device: poisson_generator
        rate: 40
        start: 13500
        stop: 13760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mf_stimulus_15:
        device: poisson_generator
        rate: 40
        start: 14500
        stop: 14760
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      cf_stimulus_1:
        device: poisson_generator
        rate: 500
        start: 750
        stop: 760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_2:
        device: poisson_generator
        rate: 500
        start: 1750
        stop: 1760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_3:
        device: poisson_generator
        rate: 500
        start: 2750
        stop: 2760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_4:
        device: poisson_generator
        rate: 500
        start: 3750
        stop: 3760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_5:
        device: poisson_generator
        rate: 500
        start: 4750
        stop: 4760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_6:
        device: poisson_generator
        rate: 500
        start: 5750
        stop: 5760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_7:
        device: poisson_generator
        rate: 500
        start: 6750
        stop: 6760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_8:
        device: poisson_generator
        rate: 500
        start: 7750
        stop: 7760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_9:
        device: poisson_generator
        rate: 500
        start: 8750
        stop: 8760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_10:
        device: poisson_generator
        rate: 500
        start: 9750
        stop: 9760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_11:
        device: poisson_generator
        rate: 500
        start: 10750
        stop: 10760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_12:
        device: poisson_generator
        rate: 500
        start: 11750
        stop: 11760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_13:
        device: poisson_generator
        rate: 500
        start: 12750
        stop: 12760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_14:
        device: poisson_generator
        rate: 500
        start: 13750
        stop: 13760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1
      cf_stimulus_15:
        device: poisson_generator
        rate: 500
        start: 14750
        stop: 14760
        targetting:
          strategy: cell_model
          cell_models:
            - io
        receptor_type: 1
        weight: 55
        delay: 0.1

    $import:
      ref: "#/simulations/basal_activity"
      values:
        - simulator
        - resolution
        - duration
        - modules
        - seed
        - simulator
        - cell_models
        - connection_models
        - devices
$import:
  ref: ./dcn_io.yaml#/
  values:
    - packages
    - storage
    - network
    - regions
    - partitions
    - morphologies
    - cell_types
    - placement
    - connectivity
    #- after_connectivity