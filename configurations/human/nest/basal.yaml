$import:
  ref: ../human_cerebellar_cortex.yaml#/
  values:
    - name
    - packages
    - storage
    - network
    - regions
    - partitions
    - morphologies
    - cell_types
    - placement
    - connectivity
storage:
  root: cerebellum.hdf5
packages:
  - bsb-nest~=4.2
components:
  - cerebellum/nest_models/build_models.py
simulations:
  basal_activity:
    simulator: nest
    duration: 2000
    resolution: 0.1
    modules:
      - cerebmodule
    seed: 1234
    cell_models:
      mossy_fibers:
        model: parrot_neuron
      glomerulus:
        model: parrot_neuron
      granule_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 1.5
          V_min: -150
          C_m: 28
          V_th: -41
          V_reset: -70
          E_L: -62
          I_e: -14.52
          V_m: -62
          lambda_0: 1.0
          tau_V: 0.3
          tau_m: 24.15
          k_adap: 0.088
          k_1: 1.244
          k_2: 0.041407868
          A1: 0.04
          A2: -3.76
          tau_syn1: 5.8
          tau_syn2: 13.61
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
      golgi_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 2
          C_m: 580
          V_th: -55
          V_reset: -75
          E_L: -62
          V_min: -150
          V_m: -62
          lambda_0: 1
          tau_V: 0.4
          tau_m: 44
          I_e: 78.2
          k_adap: 0.868
          k_1: 0.031
          k_2: 0.023
          A1: 1039.94
          A2: 712.04
          tau_syn1: 0.23
          tau_syn2: 10
          tau_syn3: 0.5
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
      purkinje_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 0.5
          C_m: 1336
          V_th: -43
          V_reset: -69
          E_L: -59
          V_min: -350
          V_m: -59
          lambda_0: 0.001
          tau_V: 0.5
          tau_m: 47
          I_e: 1765
          k_adap: 5.968
          k_1: 0.195
          k_2: 0.042
          A1: 630.48
          A2: 690.648
          tau_syn1: 1.1
          tau_syn2: 2.8
          tau_syn3: 0.4
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
      stellate_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 1.59
          C_m: 58.4
          V_th: -53
          V_reset: -78
          E_L: -68
          V_m: -68
          lambda_0: 1.8
          tau_V: 1.1
          tau_m: 9.125
          I_e: 22
          k_adap: 8.1
          k_1: 1.887
          k_2: 1.096
          A1: 23.812
          A2: 23.452
          tau_syn1: 0.64
          tau_syn2: 2
          tau_syn3: 1.2
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
      basket_cell:
        model: eglif_cond_alpha_multisyn
        constants:
          t_ref: 1.59
          C_m: 58.4
          V_th: -53
          V_reset: -78
          E_L: -68
          V_m: -68
          lambda_0: 1.8
          tau_V: 1.1
          tau_m: 9.125
          I_e: 22
          k_adap: 8.1
          k_1: 1.887
          k_2: 1.096
          A1: 23.812
          A2: 23.452
          tau_syn1: 0.64
          tau_syn2: 2
          tau_syn3: 1.2
          E_rev1: 0
          E_rev2: -80
          E_rev3: 0
    connection_models:
      mossy_fibers_to_glomerulus:
        synapse:
          weight: 1.0
          delay: 2
      glomerulus_to_granule:
        synapse:
          weight: 0.23
          delay: 2
          receptor_type: 1
      glomerulus_to_golgi:
        synapse:
          weight: 0.3
          delay: 8
          receptor_type: 1
      golgi_to_granule:
        synapse:
          weight: 0.24
          delay: 4
          receptor_type: 2
      golgi_to_golgi:
        synapse:
          weight: 0.0015
          delay: 8
          receptor_type: 2
      ascending_axon_to_golgi:
        synapse:
          weight: 0.82
          delay: 4
          receptor_type: 3
      parallel_fiber_to_golgi:
        synapse:
          weight: 0.05
          delay: 10
          receptor_type: 3
      ascending_axon_to_purkinje:
        synapse:
          weight: 1.79
          delay: 4
          receptor_type: 1
      parallel_fiber_to_purkinje:
        synapse:
          weight: 0.14
          delay: 10
          receptor_type: 1
      parallel_fiber_to_stellate:
        synapse:
          weight: 0.15
          delay: 10
          receptor_type: 1
      stellate_to_stellate:
        synapse:
          weight: 0.0035
          delay: 8
          receptor_type: 2
      stellate_to_purkinje:
        synapse:
          weight: 0.25
          delay: 10
          receptor_type: 2
      parallel_fiber_to_basket:
        synapse:
          weight: 0.085
          delay: 10
          receptor_type: 1
      basket_to_basket:
        synapse:
          weight: 0.02
          delay: 8
          receptor_type: 2
      basket_to_purkinje:
        synapse:
          weight: 0.2
          delay: 8
          receptor_type: 2
    devices:
      background_noise:
        device: poisson_generator
        rate: 4
        targetting:
          strategy: cell_model
          cell_models:
            - mossy_fibers
        weight: 1
        delay: 0.1
      mossy_fibers_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - mossy_fibers
      glomerulus_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - glomerulus
      granule_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - granule_cell
      golgi_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - golgi_cell
      purkinje_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - purkinje_cell
      stellate_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - stellate_cell
      basket_record:
        device: spike_recorder
        delay: 0.1
        targetting:
          strategy: cylinder
          radius: 200
          origin: [500,500]
          cell_models:
            - basket_cell

