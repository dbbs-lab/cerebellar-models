{
  "name": "DBBS Nest simulator configuration",
  "storage": {
    "engine": "hdf5",
    "root": "CerebellumIODCN.hdf5"
  },
  "network": {
    "x": 300.0,
    "y": 600.0,
    "z": 200.0,
    "chunk_size": [100, 100, 100]  
  },
  "partitions": {
    "dcn_layer": {
    "thickness": 200, 
    "stack_index": 1
    },
    "granular_layer": {
    "thickness": 130.0,
    "stack_index": 2
    },
    "purkinje_layer": {
    "thickness": 15.0,
    "stack_index": 3
    },
    "b_molecular_layer": {
    "thickness": 50.0,
    "stack_index": 4
    },
    "t_molecular_layer": {
    "thickness": 100.0,
    "stack_index": 5
    },
    "io_layer": {
      "thickness": 200,
      "stack_index": 0
    }
  },
  "regions": {
    "cerebellar_cortex": {
      "type": "stack",
      "children": ["granular_layer", "purkinje_layer", "t_molecular_layer","b_molecular_layer"]
    },
    "DCN": {
      "type": "stack",
      "children": ["dcn_layer"]
    },
    "IO": {
      "type": "stack",
      "children": ["io_layer"]
   }
 },
  "morphologies": [
    {
      "file": "morphologies/GranuleCell.swc", 
      "tags": 
      {
        "18": ["axon", "ascending_axon"],
        "19": ["axon", "parallel_fiber"]
      }
    },
    {
      "file": "morphologies/GolgiCell.swc",
      "tags": 
      {
        "16": ["dendrites", "basal_dendrites"],
        "17": ["dendrites", "apical_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      }
    },
    {
      "file": "morphologies/PurkinjeCell.swc",
      "tags":
      {
        "21": ["dendrites", "pf_targets", "sc_targets"],
        "22": ["dendrites", "aa_targets", "sc_targets"]
      } 
    },
    {
      "file": "morphologies/StellateCell.swc",
      "tags":
      {
        "16": ["dendrites", "proximal_dendrites"],
        "17": ["dendrites", "distal_dendrites"],
        "18": ["axon", "axon_initial_segment"]
      } 
    },
    {
      "file": "morphologies/BasketCell.swc",
      "tags":
      {
        "16": ["axon", "axon_initial_segment"]
      } 
    }
    ],
  "cell_types": {
    "granule_cell": {
      "spatial": {
        "radius": 2.5,
        "density": 3.9e-3,
        "morphologies": [
            {
              "names": ["GranuleCell"]
            }
          ]
      },
      "plotting": {
        "display_name": "Granule cell",
        "color": "#E62214",
        "opacity": 0.3
      }
    },
    "glomerulus": {
      "spatial": {
        "radius": 1.5,
        "density": 3e-4
      },
      "plotting": {
        "display_name": "Glomerulus",
        "color": "#0E1030"
      }
    },
    "unipolar_brush_cell": {
        "spatial": {
          "radius" : 1.5,
          "density": 8e-5
        },
        "plotting": {
          "display_name": "UBC",
          "color": "#6F6F70"
        }
      },
      "ubc_glomerulus": {
        "spatial": {
          "radius": 1.5,
          "density": 3.2e-4
        },
        "plotting": {
          "display_name": "UBC_gloms",
          "color": "#6F6F70"
        }
      },
    "golgi_cell": {
      "spatial": {
        "radius": 8.0,
        "density": 9e-6,
         "morphologies": [
          {
          "names": ["GolgiCell"]
        }
       ]
      },
      "plotting": {
        "display_name": "Golgi cell",
        "color": "#332EBC"
      }
    },
    "purkinje_cell": {
      "spatial": {
        "radius": 7.5,
        "planar_density": 0.0017,
        "morphologies": [
          {
          "names": ["PurkinjeCell"]
        }
       ]
      },
      "plotting": {
        "display_name": "Purkinje cell",
        "color": "#0F8944"
      }
    },
    "stellate_cell": {
      "spatial": {
        "radius": 4.0,
        "density": 0.5e-4,
        "morphologies": [
          {
          "names": ["StellateCell"]
        }
       ]
      },
      "plotting": {
        "display_name": "Stellate cell",
        "color": "#FFC425"
      }
    },
    "basket_cell": {
      "spatial": {
        "radius": 6.0,
        "density": 0.5e-4,
        "morphologies": [
          {
          "names": ["BasketCell"]
        }
       ]
      },
      "plotting": {
        "display_name": "Basket cell",
        "color": "#F37735"
      }
    },
    "mossy_fibers": {
        "spatial": {
          "radius" : 1.5,
          "density": 1.5e-5
        },
      "plotting": {
        "color": "black"
      }
    },
    "dcn_cell_p": {
      "spatial": {
        "radius": 9.5,
        "density": 4.95e-5
      },
      "plotting": {
        "display_name": "DCN cell p",
        "color": "#080808"
      }
    },
    "dcn_cell_GABA": {
      "spatial": {
        "radius": 7.0,
        "density": 2.6e-5
      },
      "plotting": {
        "display_name": "DCN cell GABA",
        "color": "#2D5C17"
      }
    },
    "io_cell": {
      "spatial": {
        "radius": 7.5,
        "relative_to": "purkinje_cell",
        "count_ratio": 0.1428
      },
      "plotting": {
        "display_name": "io cell",
        "color": "#7d1bbf"
      }
    }
  },
  "placement": {
        "granular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["granular_layer"],
        "cell_types": ["mossy_fibers","glomerulus","unipolar_brush_cell","ubc_glomerulus","granule_cell","golgi_cell"]
      },
      "purkinje_layer_placement": {
        "strategy": "bsb.placement.ParallelArrayPlacement",
        "partitions": ["purkinje_layer"],
        "cell_types": ["purkinje_cell"],
        "spacing_x": 130.0,
        "angle": 70.0
      },
      "b_molecular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["b_molecular_layer"],
        "cell_types": ["basket_cell"]
      },
      "t_molecular_layer_placement": {
        "strategy": "bsb.placement.RandomPlacement",
        "partitions": ["t_molecular_layer"],
        "cell_types": ["stellate_cell"]
      },
      "dcn_layer_placement": {
        "strategy": "cerebellum.placement.dcn_placement.DCNPlacement",
        "partitions": ["dcn_layer"],
        "cell_types": ["dcn_cell_p", "dcn_cell_GABA"],
        "xy_scale" : 0.5,
        "number_of_dcnp_cells" : 60,
        "satellite_cell_type" : "dcn_cell_GABA",
        "dcnp_radius" : 15,
        "dcngaba_radius" : 15

     },
     "io_layer_placement": {
        "strategy": "cerebellum.placement.io_placement.IOPlacement",
        "partitions": ["io_layer"],
        "cell_types": ["io_cell"],
        "xy_scale" : 0.5,
        "numbers_of_cells" : 61
    }
  },
  "after_placement": {    
  },
    "connectivity": {
    "mossy_fibers_to_glomerulus": {
      "strategy": "cerebellum.connectome.mossy_glomerulus.ConnectomeMossyGlomerulus",
        "presynaptic": {
          "cell_types": ["mossy_fibers"]
        },
        "postsynaptic": {
          "cell_types": ["glomerulus"]
        },
        "x_length" : 60,
        "z_length" : 20
       },
    "ubc_to_ubc_glomerulus": {
      "strategy": "cerebellum.connectome.ubc_glomerulus.ConnectomeUBCGlomerulus",
        "presynaptic": {
          "cell_types": ["unipolar_brush_cell"]
        },
        "postsynaptic": {
          "cell_types": ["ubc_glomerulus"]
        },
        "max_radius" : 500
      },
    "glomerulus_ubc_to_ubc": {
      "strategy": "cerebellum.connectome.glomerulus_ubc_to_ubc.ConnectomeGlomerulusUBC_to_UBC",
        "presynaptic": {
          "cell_types": ["ubc_glomerulus"]
        },
        "postsynaptic": {
          "cell_types": ["unipolar_brush_cell"]
        },
        "max_radius" : 50
      },
    "glomerulus_mf_to_ubc": {
       "strategy": "cerebellum.connectome.glomerulus_mf_to_ubc.ConnectomeGlomerulusMF_to_UBC",
        "presynaptic": {
          "cell_types": ["glomerulus"]
        },
        "postsynaptic": {
          "cell_types": ["unipolar_brush_cell"]
        },
        "max_radius" : 50
      },
    "glomerulus_to_granule": {
      "strategy": "cerebellum.connectome.glomerulus_granule.ConnectomeGlomerulusGranule",
        "presynaptic": {
          "cell_types": ["glomerulus","ubc_glomerulus"]
        },
        "postsynaptic": {
          "cell_types": ["granule_cell"]
        },
        "max_radius" : 40,
        "max_convergence" : 4,
        "prepresynaptic" : {
          "cell_types" : ["mossy_fibers"]
        }
    },
    "golgi_to_ubc": {
        "strategy": "cerebellum.connectome.golgi_glomerulus_ubc.ConnectomeGolgiGlomerulusUBC",
        "presynaptic": {
  
          "cell_types": ["golgi_cell"],
          "morphology_labels" : ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["unipolar_brush_cell"]
        },
        "intermediate": {
          "cell_types": ["glomerulus","ubc_glomerulus"]
        },
        "intermediate_connectivity_names": ["glomerulus_mf_to_ubc","glomerulus_ubc_to_ubc"],
        "max_radius" : 150,
        "convergence" : 40
      },
    "glomerulus_to_golgi": {
      "strategy": "cerebellum.connectome.glomerulus_golgi.ConnectomeGlomerulusGolgi",
        "presynaptic": {
  
          "cell_types": ["glomerulus"]  
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["dendrites"]
        },
        "radius" : 50
    },
    "golgi_to_granule": {
      "strategy": "cerebellum.connectome.golgi_glomerulus_granule.ConnectomeGolgiGlomerulusGranule",
        "presynaptic": {
  
          "cell_types": ["golgi_cell"],
          "morphology_labels" : ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["granule_cell"]
        },
        "intermediate": {
          "cell_types": ["glomerulus","ubc_glomerulus"]
        },
        "intermediate_connectivity_names": ["glomerulus_to_granule_glomerulus_to_granule_cell","glomerulus_to_granule_ubc_glomerulus_to_granule_cell"],
        "max_radius" : 150,
        "convergence" : 2.4
    },
    "golgi_to_golgi": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "affinity": 0.1
    },
    "gap_goc": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        },
        "affinity": 0.2,
        "contacts": {
          "distribution": "norm",
          "loc": 3,
          "scale": 1
        }  
    },
    "ascending_axon_to_golgi": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["ascending_axon"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["basal_dendrites"]
        }
    },
    "parallel_fiber_to_golgi": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["golgi_cell"],
          "morphology_labels": ["apical_dendrites"]
        },
        "affinity": 0.1
    },
    "ascending_axon_to_purkinje": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["ascending_axon"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["aa_targets"]
        },
        "affinity": 0.1
    },
    "parallel_fiber_to_purkinje": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["pf_targets"]
        },
        "affinity": 0.1
    },
    "parallel_fiber_to_basket": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["basket_cell"],
          "morphology_labels": ["dendrites"]
        },
        "affinity": 0.1
    },
    "parallel_fiber_to_stellate": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["granule_cell"],
          "morphology_labels": ["parallel_fiber"]
        },
        "postsynaptic": {
          "cell_types": ["stellate_cell"],
          "morphology_labels": ["dendrites"]
        },
        "affinity": 0.1
    },
    "stellate_to_purkinje": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["stellate_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["sc_targets"]
        },
        "affinity": 0.1
    },
    "basket_to_purkinje": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["basket_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"],
          "morphology_labels": ["soma"]
        }
    },
    "stellate_to_stellate": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["stellate_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["stellate_cell"],
          "morphology_labels": ["dendrites"]
        },
        "affinity": 0.5,
        "contacts": {
          "distribution": "norm",
          "loc": 100,
          "scale":4
        }
    },
    "basket_to_basket": {
      "strategy": "bsb.connectivity.VoxelIntersection",
        "presynaptic": {
          "cell_types": ["basket_cell"],
          "morphology_labels": ["axon"]
        },
        "postsynaptic": {
          "cell_types": ["basket_cell"],
          "morphology_labels": ["dendrites"]
        },
        "affinity": 0.5,
        "contacts": {
          "distribution": "norm",
          "loc": 100,
          "scale":4
        }
      },
    "mossy_to_dcnp": {
      "strategy": "cerebellum.connectome.mossy_dcnp.ConnectomeMossyDCNP",
      "presynaptic": {
          "cell_types": ["mossy_fibers"]
        },
        "postsynaptic": {
          "cell_types": ["dcn_cell_p"]
        },
       "convergence":176
      },

    "purkinje_to_dcnp": {
      "strategy": "cerebellum.connectome.purkinje_dcn.ConnectomePC_DCN",
      "presynaptic": {
          "cell_types": ["purkinje_cell"]
        },
        "postsynaptic": {
          "cell_types": ["dcn_cell_p"]
        },
        "divergence":5
      },

    "purkinje_to_dcn_GABA": {
      "strategy": "cerebellum.connectome.purkinje_dcn.ConnectomePC_DCN",
      "presynaptic": {
          "cell_types": ["purkinje_cell"]
        },
        "postsynaptic": {
          "cell_types": ["dcn_cell_GABA"]
        },
        "divergence":5
      },
    
    "io_to_purkinje": {
      "strategy": "cerebellum.connectome.io_purkinje.ConnectomeIOPurkinje",
      "presynaptic": {
          "cell_types": ["io_cell"]
        },
        "postsynaptic": {
          "cell_types": ["purkinje_cell"]
        }
      },
      
    "io_to_basket": {
      "strategy": "cerebellum.connectome.io_molecular.ConnectomeIO_MLI",
      "after" : ["basket_to_purkinje","io_to_purkinje"],
      "presynaptic": {
          "cell_types": ["io_cell"]
        },
        "postsynaptic": {
          "cell_types": ["basket_cell"]
        },
        "mli_pc_connectivity" : "basket_to_purkinje",
        "io_pc_connectivity" : "io_to_purkinje"
    },

    "io_to_stellate": {
      "strategy": "cerebellum.connectome.io_molecular.ConnectomeIO_MLI",
      "after" : ["stellate_to_purkinje","io_to_purkinje"],
      "presynaptic": {
          "cell_types": ["io_cell"]
        },
        "postsynaptic": {
          "cell_types": ["basket_cell"]
        },
        "mli_pc_connectivity" : "stellate_to_purkinje",
        "io_pc_connectivity" : "io_to_purkinje"
    },

      "io_to_dcnp": {
      "strategy": "bsb.connectivity.AllToAll",
      "presynaptic": {
          "cell_types": ["io_cell"]
        },
        "postsynaptic": {
          "cell_types": ["dcn_cell_p"]
        }
    },

    "io_to_dcn_GABA": {
      "strategy": "bsb.connectivity.AllToAll",
      "presynaptic": {
          "cell_types": ["io_cell"]
        },
        "postsynaptic": {
          "cell_types": ["dcn_cell_GABA"]
        }
    },

    "dcn_GABA_to_io": {
      "strategy": "bsb.connectivity.AllToAll",
      "presynaptic": {
          "cell_types": ["dcn_cell_GABA"]
        },
        "postsynaptic": {
          "cell_types": ["io_cell"]
        }
      }
    
    },

  "after_connectivity": 
  {

  },
  
  "simulations": {
   
  }
}
